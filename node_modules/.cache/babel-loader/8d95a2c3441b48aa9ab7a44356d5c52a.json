{"remainingRequest":"D:\\共享文件\\code space\\疫情统计分析软件\\22\\epidemicmanagementweb\\node_modules\\babel-loader\\lib\\index.js!D:\\共享文件\\code space\\疫情统计分析软件\\22\\epidemicmanagementweb\\src\\utils\\axios.js","dependencies":[{"path":"D:\\共享文件\\code space\\疫情统计分析软件\\22\\epidemicmanagementweb\\src\\utils\\axios.js","mtime":1652439824000},{"path":"D:\\共享文件\\code space\\疫情统计分析软件\\22\\epidemicmanagementweb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\共享文件\\code space\\疫情统计分析软件\\22\\epidemicmanagementweb\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgc3RvcmUgZnJvbSAnLi4vc3RvcmUnOwppbXBvcnQgcm91dGVyIGZyb20gJy4uL3JvdXRlcic7CmltcG9ydCBjb29raWVzIGZyb20gJ0AvdXRpbHMvY29va2llJzsKaW1wb3J0IHsgTWVzc2FnZSwgTG9hZGluZyB9IGZyb20gJ2VsZW1lbnQtdWknOyAvLyDmoLnmja7njq/looPkuI3lkIzlvJXlhaXkuI3lkIxhcGnlnLDlnYAKCmltcG9ydCB7IGJhc2VBcGkgfSBmcm9tICdAL2NvbmZpZyc7IC8vIOWIm+W7uuS4gOS4qumUmeivrwoKZnVuY3Rpb24gZXJyb3JDcmVhdGUobXNnKSB7CiAgdmFyIGVycm9yID0gbmV3IEVycm9yKG1zZyk7CiAgdGhyb3cgZXJyb3I7Cn0gLy8g5Yib5bu65LiA5LiqIGF4aW9zIOWunuS+iwoKCnZhciBzZXJ2aWNlID0gYXhpb3MuY3JlYXRlKHsKICBiYXNlVVJMOiBiYXNlQXBpIC8vIHRpbWVvdXQ6IDUwMDAgIC8v6K+35rGC6LaF5pe25pe26Ze0Cgp9KTsgLy8gaWYocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT0gJ2RldmVsb3BtZW50JykgewoKaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09ICdwcm9kdWN0aW9uJykgewogIHNlcnZpY2UuZGVmYXVsdHMuYmFzZVVSTCA9IGNvbmZpZ1VybDsKfSAvLyDor7fmsYLmi6bmiKrlmagKCgpzZXJ2aWNlLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgLy8g5Zyo6K+35rGC5Y+R6YCB5LmL5YmN5YGa5LiA5Lqb5aSE55CGCiAgLy8g6K6p5q+P5Liq6K+35rGC5pC65bimdG9rZW4tLSBbJ1gtVG9rZW4nXeS4uuiHquWumuS5iWtleSDor7fmoLnmja7lrp7pmYXmg4XlhrXoh6rooYzkv67mlLkKICAvLyDorr7nva7ot6jln5/or7fmsYLlpLQKICBjb25maWcuaGVhZGVyc1snQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycyddID0gJyonOwogIGNvbmZpZy5oZWFkZXJzWydBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzJ10gPSAnR0VULFBPU1QsT1BUSU9OUyxIRUFELFBVVCc7CiAgY29uZmlnLmhlYWRlcnNbJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbiddID0gJyonOwogIGNvbmZpZy5oZWFkZXJzWydBY2Nlc3MtQ29udHJvbC1BbGxvdy1DcmVkZW50aWFscyddID0gJ3RydWUnOwogIHJldHVybiBjb25maWc7Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIC8vIOWPkemAgeWksei0pQogIGNvbnNvbGUubG9nKGVycm9yKTsKICBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOyAvLyDlk43lupTmi6bmiKrlmagKCnNlcnZpY2UuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAvLyBkYXRhQXhpb3Mg5pivIGF4aW9zIOi/lOWbnuaVsOaNruS4reeahCBkYXRhCiAgdmFyIGRhdGFBeGlvcyA9IHJlc3BvbnNlLmRhdGE7IC8vIOi/meS4queKtuaAgeeggeaYr+WSjOWQjuerr+e6puWumueahAoKICB2YXIgY29kZSA9IHJlc3BvbnNlLnN0YXR1czsKCiAgaWYgKGNvZGUgPT0gMjAwKSB7CiAgICByZXR1cm4gZGF0YUF4aW9zOwogIH0gZWxzZSBpZiAoIWNvZGUpIHsKICAgIHJldHVybiBkYXRhQXhpb3M7CiAgfSBlbHNlIHsKICAgIHN3aXRjaCAoY29kZSkgewogICAgICBjYXNlIDQwMToKICAgICAgICAvLyDnmbvlvZXlpLHmlYh8fOmHjeaWsOeZu+W9lQogICAgICAgIE1lc3NhZ2UuZXJyb3IoewogICAgICAgICAgbWVzc2FnZTogJ+eZu+W9lei2heaXtu+8jOivt+mHjeaWsOeZu+W9lScKICAgICAgICB9KTsKICAgICAgICByb3V0ZXIucmVwbGFjZSgnL2xvZ2luJyk7CiAgICAgICAgYnJlYWs7CgogICAgICBkZWZhdWx0OgogICAgICAgIC8vIOWFtuS7lumUmeivrwogICAgICAgIE1lc3NhZ2UuZXJyb3IoewogICAgICAgICAgbWVzc2FnZTogZGF0YUF4aW9zLm1zZwogICAgICAgIH0pOwogICAgICAgIGVycm9yQ3JlYXRlKCIiLmNvbmNhdChkYXRhQXhpb3MubXNnLCAiOiAiKS5jb25jYXQocmVzcG9uc2UuY29uZmlnLnVybCkpOwogICAgICAgIGJyZWFrOwogICAgfQoKICAgIGVycm9yQ3JlYXRlKCJcdTk1MTlcdThCRUZcdTYyOUJcdTUxRkFbIGNvZGU6ICIuY29uY2F0KGNvZGUsICIgXSAiKS5jb25jYXQoZGF0YUF4aW9zLm1zZywgIjogIikuY29uY2F0KHJlc3BvbnNlLmNvbmZpZy51cmwpKTsKICB9Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIGlmIChlcnJvciAmJiBlcnJvci5yZXNwb25zZSkgewogICAgc3dpdGNoIChlcnJvci5yZXNwb25zZS5zdGF0dXMpIHsKICAgICAgY2FzZSA0MDA6CiAgICAgICAgZXJyb3IubWVzc2FnZSA9ICfor7fmsYLplJnor68nOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA0MDE6CiAgICAgICAgLy8g55m75b2V5aSx5pWIfHzph43mlrDnmbvlvZUKICAgICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKCdzZXRMb2dpbicpOwogICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oJ3VzZXJJbmZvJyk7CiAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ2xvZ2luL3NldExvZ291dCcsIGZhbHNlKTsKICAgICAgICBNZXNzYWdlLmVycm9yKHsKICAgICAgICAgIG1lc3NhZ2U6ICfnmbvlvZXotoXml7bvvIzor7fph43mlrDnmbvlvZUnCiAgICAgICAgfSk7CiAgICAgICAgcm91dGVyLmdvKDApOwogICAgICAgIGJyZWFrOwogICAgICAvLyBlcnJvci5tZXNzYWdlID0gJ+eZu+W9lei2heaXtu+8jOivt+mHjeaWsOeZu+W9lScKICAgICAgLy8gYnJlYWsKCiAgICAgIGNhc2UgNDAzOgogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn5ouS57ud6K6/6ZeuJzsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNDA0OgogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAiXHU4QkY3XHU2QzQyXHU1NzMwXHU1NzQwXHU1MUZBXHU5NTE5OiAiLmNvbmNhdChlcnJvci5yZXNwb25zZS5jb25maWcudXJsKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNDA4OgogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn6K+35rGC6LaF5pe2JzsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNTAwOgogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn5pyN5Yqh5Zmo5YaF6YOo6ZSZ6K+vJzsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNTAxOgogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn5pyN5Yqh5pyq5a6e546wJzsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNTAyOgogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn572R5YWz6ZSZ6K+vJzsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNTAzOgogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn5pyN5Yqh5LiN5Y+v55SoJzsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNTA0OgogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn572R5YWz6LaF5pe2JzsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNTA1OgogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAnSFRUUOeJiOacrOS4jeWPl+aUr+aMgSc7CiAgICAgICAgYnJlYWs7CgogICAgICBkZWZhdWx0OgogICAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7CmV4cG9ydCBkZWZhdWx0IHNlcnZpY2U7"},{"version":3,"sources":["D:/共享文件/code space/疫情统计分析软件/22/epidemicmanagementweb/src/utils/axios.js"],"names":["axios","store","router","cookies","Message","Loading","baseApi","errorCreate","msg","error","Error","service","create","baseURL","process","env","NODE_ENV","defaults","configUrl","interceptors","request","use","config","headers","console","log","Promise","reject","response","dataAxios","data","code","status","message","replace","url","sessionStorage","removeItem","dispatch","go"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport store from '../store'\nimport router from '../router'\nimport cookies from '@/utils/cookie'\nimport { Message, Loading } from 'element-ui'\n// 根据环境不同引入不同api地址\nimport { baseApi } from '@/config'\n// 创建一个错误\nfunction errorCreate(msg) {\n  const error = new Error(msg)\n  throw error\n}\n\n// 创建一个 axios 实例\nconst service = axios.create({\n  baseURL: baseApi\n  // timeout: 5000  //请求超时时间\n})\n\n// if(process.env.NODE_ENV == 'development') {\nif (process.env.NODE_ENV == 'production') {\n  service.defaults.baseURL = configUrl\n}\n// 请求拦截器\nservice.interceptors.request.use(\n  config => {\n    // 在请求发送之前做一些处理\n    // 让每个请求携带token-- ['X-Token']为自定义key 请根据实际情况自行修改\n    // 设置跨域请求头\n    config.headers['Access-Control-Allow-Headers'] = '*'\n    config.headers['Access-Control-Allow-Methods'] = 'GET,POST,OPTIONS,HEAD,PUT'\n    config.headers['Access-Control-Allow-Origin'] = '*'\n    config.headers['Access-Control-Allow-Credentials'] = 'true'\n    return config\n  },\n  error => {\n    // 发送失败\n    console.log(error)\n    Promise.reject(error)\n  }\n)\n// 响应拦截器\nservice.interceptors.response.use(\n  response => {\n    // dataAxios 是 axios 返回数据中的 data\n    const dataAxios = response.data\n    // 这个状态码是和后端约定的\n    const code = response.status\n    if (code == 200) {\n      return dataAxios\n    } else if (!code) {\n      return dataAxios\n    } else {\n      switch (code) {\n        case 401:\n          // 登录失效||重新登录\n          Message.error({\n            message: '登录超时，请重新登录'\n          })\n          router.replace('/login')\n          break\n        default:\n          // 其他错误\n          Message.error({\n            message: dataAxios.msg\n          })\n          errorCreate(`${dataAxios.msg}: ${response.config.url}`)\n          break\n      }\n      errorCreate(\n        `错误抛出[ code: ${code} ] ${dataAxios.msg}: ${response.config.url}`\n      )\n    }\n  },\n  error => {\n    if (error && error.response) {\n      switch (error.response.status) {\n        case 400:\n          error.message = '请求错误'\n          break\n        case 401:\n          // 登录失效||重新登录\n          sessionStorage.removeItem('setLogin')\n          sessionStorage.removeItem('userInfo')\n          store.dispatch('login/setLogout', false)\n          Message.error({\n            message: '登录超时，请重新登录'\n          })\n          router.go(0)\n          break\n        // error.message = '登录超时，请重新登录'\n        // break\n        case 403:\n          error.message = '拒绝访问'\n          break\n        case 404:\n          error.message = `请求地址出错: ${error.response.config.url}`\n          break\n        case 408:\n          error.message = '请求超时'\n          break\n        case 500:\n          error.message = '服务器内部错误'\n          break\n        case 501:\n          error.message = '服务未实现'\n          break\n        case 502:\n          error.message = '网关错误'\n          break\n        case 503:\n          error.message = '服务不可用'\n          break\n        case 504:\n          error.message = '网关超时'\n          break\n        case 505:\n          error.message = 'HTTP版本不受支持'\n          break\n        default:\n          break\n      }\n    }\n    return Promise.reject(error)\n  }\n)\n\nexport default service\n"]}]}