{"remainingRequest":"D:\\共享文件\\code space\\python疫情统计分析软件源码新闻爬虫+论文第三稿（已降重）\\epidemicmanagementweb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\共享文件\\code space\\python疫情统计分析软件源码新闻爬虫+论文第三稿（已降重）\\epidemicmanagementweb\\src\\views\\coupon\\AddCoupon.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\共享文件\\code space\\python疫情统计分析软件源码新闻爬虫+论文第三稿（已降重）\\epidemicmanagementweb\\src\\views\\coupon\\AddCoupon.vue","mtime":1652251439000},{"path":"D:\\共享文件\\code space\\python疫情统计分析软件源码新闻爬虫+论文第三稿（已降重）\\epidemicmanagementweb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\共享文件\\code space\\python疫情统计分析软件源码新闻爬虫+论文第三稿（已降重）\\epidemicmanagementweb\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\共享文件\\code space\\python疫情统计分析软件源码新闻爬虫+论文第三稿（已降重）\\epidemicmanagementweb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\共享文件\\code space\\python疫情统计分析软件源码新闻爬虫+论文第三稿（已降重）\\epidemicmanagementweb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MiOwpleHBvcnQgZGVmYXVsdCB7CiAgaW5qZWN0OiBbJ3JlbG9hZCddLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0YWJsZURhdGE6IFtdLAogICAgICAvLyDlvLnlh7rlsYIKICAgICAgQWRkQ291cG9uU2hvdzogZmFsc2UsCiAgICAgIEFkZENvdXBvbkZvcm06IHsKICAgICAgICBuYW1lOiAiIiwKICAgICAgICBzdGFydDogIiIsCiAgICAgICAgZW5kOiAiIiwKICAgICAgfSwKICAgICAga2V5Q29kZVdpZHRoOiAiMTIwcHgiLAogICAgICBnZW5nZ2Fpc2hvdzogZmFsc2UsCiAgICAgIHRlbXA6IHsKICAgICAgICBpZDogIiIsCiAgICAgIH0sCiAgICAgIEFkZENvdXBvblJ1bGVzOiB7CiAgICAgICAgbmFtZTogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+i+k+WFpSIsIHRyaWdnZXI6ICJibHVyIiB9LAogICAgICAgICAgeyBtaW46IDIsIG1heDogNSwgbWVzc2FnZTogIumVv+W6puWcqCAyIOWIsCA1IOS4quWtl+espiIsIHRyaWdnZXI6ICJibHVyIiB9LAogICAgICAgIF0sCiAgICAgICAgY29uZGl0aW9uOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36L6T5YWl5L2/55So5o+P6L+wIiwgdHJpZ2dlcjogImJsdXIiIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG1pbjogMiwKICAgICAgICAgICAgbWF4OiAyNSwKICAgICAgICAgICAgbWVzc2FnZTogIumVv+W6puWcqCAyIOWIsCAyNSDkuKrlrZfnrKYiLAogICAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIsCiAgICAgICAgICB9LAogICAgICAgIF0sCiAgICAgICAgbm90aWNlOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36L6T5YWl6K+m57uG5L+h5oGvIiwgdHJpZ2dlcjogImJsdXIiIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG1pbjogNSwKICAgICAgICAgICAgbWF4OiAyNSwKICAgICAgICAgICAgbWVzc2FnZTogIumVv+W6puWcqCA1IOWIsCAyNSDkuKrlrZfnrKYiLAogICAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIsCiAgICAgICAgICB9LAogICAgICAgIF0sCiAgICAgIH0sCiAgICAgIEFkZENvdXBvbldpZHRoOiAiMTIwcHgiLAogICAgfTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICBheGlvcwogICAgICAuZ2V0KCJodHRwOi8vMTI3LjAuMC4xOjg5OTEvZ2V0X2VwaWRlbWljX3R5cGUiKQogICAgICAudGhlbigKICAgICAgICAocmVzcG9uc2UpID0+ICgKICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEucmVzdWx0KSwKICAgICAgICAgICh0aGlzLnRhYmxlRGF0YSA9IHJlc3BvbnNlLmRhdGEucmVzdWx0KQogICAgICAgICkKICAgICAgKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHVwZGF0ZWtleWNvZGVpbmZvKHZhbCkgewogICAgICB0aGlzLmdlbmdnYWlzaG93ID0gdHJ1ZTsKICAgICAgdGhpcy50ZW1wID0gT2JqZWN0LmFzc2lnbih7fSwgdmFsKTsKCiAgICAgIC8vIHRoaXMudGVtcC51cGRhdGV0aW1lID0gbmV3IERhdGUodGhpcy50ZW1wLnVwZGF0ZXRpbWUpOwogICAgfSwKICAgIHVwZGF0ZVN1Ym1pdCh2YWwpIHsKICAgICAgaWYgKHZhbC5lcGlkZW1pY25hbWUubGVuZ3RoID4gMCkgewogICAgICAgIGNvbnNvbGUubG9nKHZhbC5lcGlkZW1pY25hbWUpOwogICAgICAgIGxldCBmb3JtZGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgIGZvcm1kYXRhLmFwcGVuZCgiaWQiLCB2YWwuaWQpOwogICAgICAgIGZvcm1kYXRhLmFwcGVuZCgiZXBpZGVtaWNuYW1lIiwgdmFsLmVwaWRlbWljbmFtZSk7CiAgICAgICAgYXhpb3MKICAgICAgICAgIC5wb3N0KCJodHRwOi8vMTI3LjAuMC4xOjg5OTEvdXBkYXRlX2VwaWRlbWljX3R5cGUiLCBmb3JtZGF0YSkKICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gYWxlcnQocmVzcG9uc2UuZGF0YS5yZXMpLHRoaXMucmVsb2FkKCkpOyAgICAKICAgICAgfSBlbHNlIHsKICAgICAgICBhbGVydChyZXNwb25zZS5kYXRhLnJlcyk7CiAgICAgICAgdGhpcy5yZWxvYWQoKTsKICAgICAgfQogICAgfSwKICAgIGRlbGV0ZWVwaWRlbWljaW5mbyh2YWwpIHsKICAgICAgY29uc29sZS5sb2codmFsLmVwaWRlbWljbmFtZSk7CiAgICAgIGxldCBmb3JtZGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICBmb3JtZGF0YS5hcHBlbmQoImlkIiwgdmFsLmlkKTsKICAgICAgaWYgKHZhbC5lcGlkZW1pY25hbWUubGVuZ3RoID4gMCkgewogICAgICAgIGNvbnNvbGUubG9nKHZhbC5lcGlkZW1pY25hbWUpOwogICAgICAgIGF4aW9zCiAgICAgICAgICAucG9zdCgiaHR0cDovLzEyNy4wLjAuMTo4OTkxL2RlbF9lcGlkZW1pY190eXBlIiwgZm9ybWRhdGEpCiAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IGFsZXJ0KHJlc3BvbnNlLmRhdGEucmVzKSx0aGlzLnJlbG9hZCgpKTsgICAgCiAgICAgIH0gZWxzZSB7CiAgICAgICAgYWxlcnQocmVzcG9uc2UuZGF0YS5yZXMpOwogICAgICAgIHRoaXMucmVsb2FkKCk7CiAgICAgIH0KICAgIH0sCiAgICBBZGRDb3Vwb25TdWJtaXQoZm9ybU5hbWUpIHsKICAgICAgY29uc29sZS5sb2coZm9ybU5hbWUubmFtZSk7CiAgICAgIGlmIChmb3JtTmFtZS5uYW1lLmxlbmd0aCA+IDApIHsKICAgICAgICBjb25zb2xlLmxvZyhmb3JtTmFtZS5uYW1lKTsKICAgICAgICBsZXQgZm9ybWRhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICBmb3JtZGF0YS5hcHBlbmQoIm5hbWUiLCBmb3JtTmFtZS5uYW1lKTsKICAgICAgICBheGlvcwogICAgICAgICAgLnBvc3QoImh0dHA6Ly8xMjcuMC4wLjE6ODk5MS9pbnNfZXBpZGVtaWNfdHlwZSIsIGZvcm1kYXRhKQogICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiBhbGVydChyZXNwb25zZS5kYXRhLnJlcyksdGhpcy5yZWxvYWQoKSk7ICAgIAogICAgICB9IGVsc2UgewogICAgICAgIGFsZXJ0KHJlc3BvbnNlLmRhdGEucmVzKTsKICAgICAgICB0aGlzLnJlbG9hZCgpOwogICAgICB9CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["AddCoupon.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddCoupon.vue","sourceRoot":"src/views/coupon","sourcesContent":["<template>\n  <div class=\"AddCoupon\">\n    <!-- 添加 -->\n    <el-row :gutter=\"20\" class=\"AddCoupon-Info\">\n      <el-col :span=\"3\">\n        <el-button\n          type=\"primary\"\n          class=\"AddCoupon-Info-li\"\n          size=\"small\"\n          @click=\"AddCouponShow = true\"\n          >添加</el-button\n        >\n      </el-col>\n    </el-row>\n    <!-- 查询列表 -->\n    <el-row class=\"AddCoupon-list\">\n      <el-col :span=\"24\">\n        <el-table :data=\"tableData\" border style=\"width: 100%\" >\n          <el-table-column type=\"selection\" label=\"序\" width=\"80px\" align=\"center\">\n          </el-table-column>\n          <el-table-column prop=\"epidemicname\" label=\"疫情名称\" width=\"150px\" align=\"center\">\n          </el-table-column>\n          <el-table-column prop=\"createtime\" label=\"添加时间\" width=\"240px\" align=\"center\">\n          </el-table-column>\n          <el-table-column prop=\"updatetime\" label=\"更新时间\" width=\"240px\" align=\"center\">\n          </el-table-column>\n          <el-table-column label=\"更新\" width=\"120px\" align=\"center\" >\n            <template slot-scope=\"scope\" width=\"80px\">\n              <el-button type=\"text\" @click=\"updatekeycodeinfo(scope.row)\"\n                >修改</el-button\n              >\n              <el-button type=\"text\" @click=\"deleteepidemicinfo(scope.row)\"\n                >删除</el-button\n              >\n            </template>\n          </el-table-column>\n        </el-table>\n      </el-col>\n    </el-row>\n\n    <el-dialog title=\"添加类型\" :visible.sync=\"AddCouponShow\">\n      <el-form\n        :model=\"AddCouponForm\"\n        :rules=\"AddCouponRules\"\n        ref=\"AddCouponForm\"\n      >\n        <el-form-item\n          label=\"疫情名称\"\n          :label-width=\"AddCouponWidth\"\n          prop=\"name\"\n        >\n          <el-input\n            v-model=\"AddCouponForm.name\"\n            autocomplete=\"off\"\n            placeholder=\"请输入疫情名称\"\n          ></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"AddCouponSubmit(AddCouponForm)\" type=\"primary\"\n          >添 加</el-button\n        >\n      </div>\n    </el-dialog>\n\n    <el-dialog title=\"修改数据\" :visible.sync=\"genggaishow\">\n      <el-form :model=\"temp\" ref=\"temp\">\n        <el-form-item label=\"疫情名称\" :label-width=\"keyCodeWidth\">\n          <el-input v-model=\"temp.epidemicname\" />\n        </el-form-item>\n        <el-form-item label=\"修改时间\" :label-width=\"keyCodeWidth\">\n          <el-input v-model=\"temp.updatetime\" />\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"updateSubmit(temp)\" type=\"primary\"\n          >修改提交</el-button\n        >\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport axios from \"../../../node_modules/axios\";\nexport default {\n  inject: ['reload'],\n  data() {\n    return {\n      tableData: [],\n      // 弹出层\n      AddCouponShow: false,\n      AddCouponForm: {\n        name: \"\",\n        start: \"\",\n        end: \"\",\n      },\n      keyCodeWidth: \"120px\",\n      genggaishow: false,\n      temp: {\n        id: \"\",\n      },\n      AddCouponRules: {\n        name: [\n          { required: true, message: \"请输入\", trigger: \"blur\" },\n          { min: 2, max: 5, message: \"长度在 2 到 5 个字符\", trigger: \"blur\" },\n        ],\n        condition: [\n          { required: true, message: \"请输入使用描述\", trigger: \"blur\" },\n          {\n            min: 2,\n            max: 25,\n            message: \"长度在 2 到 25 个字符\",\n            trigger: \"blur\",\n          },\n        ],\n        notice: [\n          { required: true, message: \"请输入详细信息\", trigger: \"blur\" },\n          {\n            min: 5,\n            max: 25,\n            message: \"长度在 5 到 25 个字符\",\n            trigger: \"blur\",\n          },\n        ],\n      },\n      AddCouponWidth: \"120px\",\n    };\n  },\n  mounted() {\n    axios\n      .get(\"http://127.0.0.1:8991/get_epidemic_type\")\n      .then(\n        (response) => (\n          console.log(response.data.result),\n          (this.tableData = response.data.result)\n        )\n      );\n  },\n  methods: {\n    updatekeycodeinfo(val) {\n      this.genggaishow = true;\n      this.temp = Object.assign({}, val);\n\n      // this.temp.updatetime = new Date(this.temp.updatetime);\n    },\n    updateSubmit(val) {\n      if (val.epidemicname.length > 0) {\n        console.log(val.epidemicname);\n        let formdata = new FormData();\n        formdata.append(\"id\", val.id);\n        formdata.append(\"epidemicname\", val.epidemicname);\n        axios\n          .post(\"http://127.0.0.1:8991/update_epidemic_type\", formdata)\n          .then((response) => alert(response.data.res),this.reload());    \n      } else {\n        alert(response.data.res);\n        this.reload();\n      }\n    },\n    deleteepidemicinfo(val) {\n      console.log(val.epidemicname);\n      let formdata = new FormData();\n      formdata.append(\"id\", val.id);\n      if (val.epidemicname.length > 0) {\n        console.log(val.epidemicname);\n        axios\n          .post(\"http://127.0.0.1:8991/del_epidemic_type\", formdata)\n          .then((response) => alert(response.data.res),this.reload());    \n      } else {\n        alert(response.data.res);\n        this.reload();\n      }\n    },\n    AddCouponSubmit(formName) {\n      console.log(formName.name);\n      if (formName.name.length > 0) {\n        console.log(formName.name);\n        let formdata = new FormData();\n        formdata.append(\"name\", formName.name);\n        axios\n          .post(\"http://127.0.0.1:8991/ins_epidemic_type\", formdata)\n          .then((response) => alert(response.data.res),this.reload());    \n      } else {\n        alert(response.data.res);\n        this.reload();\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.AddCoupon {\n  width: 100%;\n  min-height: 100%;\n  padding: 15px;\n  box-sizing: border-box;\n}\n.AddCoupon-Info {\n  width: 100%;\n  margin-bottom: 15px;\n}\n.AddCoupon-Info-li {\n  width: 100%;\n}\n.AddCoupon-list {\n  width: 100%;\n  margin-bottom: 20px;\n}\n.AddCoupon-page-box {\n  display: flex;\n  justify-content: flex-end;\n}\n</style>"]}]}