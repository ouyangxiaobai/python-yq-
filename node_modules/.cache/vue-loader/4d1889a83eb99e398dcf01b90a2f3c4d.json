{"remainingRequest":"D:\\共享文件\\code space\\疫情统计分析软件\\22\\epidemicmanagementweb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\共享文件\\code space\\疫情统计分析软件\\22\\epidemicmanagementweb\\src\\views\\news\\news.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\共享文件\\code space\\疫情统计分析软件\\22\\epidemicmanagementweb\\src\\views\\news\\news.vue","mtime":1652545707000},{"path":"D:\\共享文件\\code space\\疫情统计分析软件\\22\\epidemicmanagementweb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\共享文件\\code space\\疫情统计分析软件\\22\\epidemicmanagementweb\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\共享文件\\code space\\疫情统计分析软件\\22\\epidemicmanagementweb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\共享文件\\code space\\疫情统计分析软件\\22\\epidemicmanagementweb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRhYmxlRGF0YTogW10sIC8vIOihqOagvOaVsOaNrgogICAgICBzZWxlY3RMaXN0OiBbXSwgLy8g6KGo5qC86YCJ5Lit5pWw5o2u5YiX6KGoCiAgICAgIGZvcm1EYXRhOiB7fSwgLy8g6KGo5Y2V5pWw5o2uCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgfTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLnF1ZXJ5VGFibGUoMSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDmn6Xor6LooajmoLwKICAgIHF1ZXJ5VGFibGUoaW5kZXgpIHsKICAgICAgY29uc3QgdGhhdCA9IHRoaXM7CiAgICAgIGluZGV4ID8gKHRoaXMuY3VycnBhZ2UgPSAxKSA6ICIiOwogICAgICBsZXQgZGF0YSA9IHsKICAgICAgICBwYWdlOiB0aGlzLmN1cnJwYWdlLAogICAgICAgIHBhZ2Vfc2l6ZTogdGhpcy5wYWdlc2l6ZSwKICAgICAgICAuLi50aGlzLmZvcm1EYXRhLAogICAgICB9OwogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICBheGlvcwogICAgICAgIC5nZXQoImh0dHA6Ly8xMjcuMC4wLjE6ODk5MS9nZXRfbmV3c19kYXRhIikKICAgICAgICAudGhlbigKICAgICAgICAgIChyZXMpID0+ICgodGhhdC5sb2FkaW5nID0gZmFsc2UpLCAodGhhdC50YWJsZURhdGEgPSByZXMuZGF0YS5yZXN1bHQpKQogICAgICAgICk7CiAgICB9LAoKICAgIC8vIOWIoOmZpAogICAgbGl0ZURlbChyb3cpIHsKICAgICAgbGV0IG1zZyA9ICIiOwogICAgICBjb25zdCAkdGhpcyA9IHRoaXM7CiAgICAgIG1zZyA9ICLnoa7lrpropoHliKDpmaTpgInkuK3nmoTmlbDmja7lkJfvvJ8iOwogICAgICB0aGlzLiRjb25maXJtKG1zZywgIuaPkOekuiIsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsCiAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICB9KQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICR0aGlzLmRlbEV2ZW50KHJvdyk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKCkgPT4gewogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIHR5cGU6ICJpbmZvIiwKICAgICAgICAgICAgbWVzc2FnZTogIuW3suWPlua2iOWIoOmZpCIsCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgIH0sCiAgICBkZWxFdmVudChyb3cpIHsKICAgICAgbGV0IGZvcm1kYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGZvcm1kYXRhLmFwcGVuZCgiaWQiLCByb3cuaWQpOwogICAgICBheGlvcy5wb3N0KCJodHRwOi8vMTI3LjAuMC4xOjg5OTEvZGVsX25ld3MiLCBmb3JtZGF0YSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICBtZXNzYWdlOiByZXMuZGF0YS5yZXMsCiAgICAgICAgICB0eXBlOiAid2FybmluZyIsCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5xdWVyeVRhYmxlKCk7CiAgICAgIH0pOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["news.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"news.vue","sourceRoot":"src/views/news","sourcesContent":["<template>\n  <div class=\"index\">\n    <el-card class=\"box-card\" style=\"margin-top: 20px\">\n      <el-button-group class=\"buttonGroup\">\n        <p class=\"p\" style=\"float: left; line-height: 40px\">时事新闻</p>\n      </el-button-group>\n      <el-table\n        v-loading=\"loading\"\n        ref=\"filterTable\"\n        :data=\"tableData\"\n        max-height=\"440\"\n      >\n        <el-table-column\n          prop=\"eventdescription\"\n          label=\"新闻标题\"\n          min-width=\"400\"\n        >\n          <template slot-scope=\"scope\">\n            <a :href=\"scope.row.eventUrl\">{{ scope.row.eventdescription }}</a>\n          </template>\n        </el-table-column>\n        <el-table-column\n          prop=\"sitename\"\n          label=\"发布者/机构\"\n          min-width=\"150\"\n        ></el-table-column>\n        <el-table-column\n          prop=\"eventtime\"\n          label=\"发布时间\"\n          min-width=\"160\"\n        ></el-table-column>\n        <el-table-column prop=\"operate\" label=\"操作\" min-width=\"100\">\n          <template slot-scope=\"scope\">\n            <el-button type=\"danger\" @click=\"liteDel(scope.row)\"\n              >删除</el-button\n            >\n          </template>\n        </el-table-column>\n        <div slot=\"empty\" class=\"noData\">\n          <i></i>\n          <p>暂无数据</p>\n        </div>\n      </el-table>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport axios from \"../../../node_modules/axios\";\nexport default {\n  data() {\n    return {\n      tableData: [], // 表格数据\n      selectList: [], // 表格选中数据列表\n      formData: {}, // 表单数据\n      loading: false,\n    };\n  },\n  mounted() {\n    this.queryTable(1);\n  },\n  methods: {\n    // 查询表格\n    queryTable(index) {\n      const that = this;\n      index ? (this.currpage = 1) : \"\";\n      let data = {\n        page: this.currpage,\n        page_size: this.pagesize,\n        ...this.formData,\n      };\n      this.loading = true;\n      axios\n        .get(\"http://127.0.0.1:8991/get_news_data\")\n        .then(\n          (res) => ((that.loading = false), (that.tableData = res.data.result))\n        );\n    },\n\n    // 删除\n    liteDel(row) {\n      let msg = \"\";\n      const $this = this;\n      msg = \"确定要删除选中的数据吗？\";\n      this.$confirm(msg, \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\",\n      })\n        .then(() => {\n          $this.delEvent(row);\n        })\n        .catch(() => {\n          this.$message({\n            type: \"info\",\n            message: \"已取消删除\",\n          });\n        });\n    },\n    delEvent(row) {\n      let formdata = new FormData();\n      formdata.append(\"id\", row.id);\n      axios.post(\"http://127.0.0.1:8991/del_news\", formdata).then((res) => {\n        this.$message({\n          message: res.data.res,\n          type: \"warning\",\n        });\n        this.queryTable();\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.buttonGroup {\n  // position: absolute;\n  // top: 0;\n  // left: 40px;\n  margin-bottom: 10px;\n  padding: 0 10px;\n  box-sizing: border-box;\n  display: block;\n  font-size: 16px;\n  font-weight: bold;\n  button {\n    margin-left: 10px !important;\n    border-radius: 4px !important;\n    float: right;\n  }\n}\n.p {\n  position: relative;\n  font-size: 16px;\n  font-weight: bold;\n  padding-left: 10px;\n  &::before {\n    content: \"\";\n    position: absolute;\n    left: -4px;\n    top: 50%;\n    transform: translateY(-50%);\n    width: 6px;\n    height: 24px;\n    background-color: rgb(182, 182, 182);\n  }\n}\n.forSearch {\n  .p {\n    margin-bottom: 12px;\n  }\n  .tip {\n    width: 100%;\n    padding: 16px;\n    box-shadow: 0 4px 16px 0 rgba(0, 0, 0, 0.1);\n    border-radius: 8px;\n    box-sizing: border-box;\n    cursor: pointer;\n    p {\n      font-weight: bold;\n      line-height: 22px;\n      margin-bottom: 8px;\n    }\n    span {\n      color: gray;\n      i {\n        display: inline-block;\n        margin-right: 4px;\n      }\n    }\n  }\n}\n</style>\n"]}]}